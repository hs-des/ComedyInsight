# =============================================================================
# ComedyInsight Environment Configuration (copy to .env and adjust values)
# =============================================================================

# -----------------------------------------------------------------------------
# Core Runtime Modes
# -----------------------------------------------------------------------------
APP_ENV=development                 # one of: development, production, testing
NODE_ENV=development                # Node.js environment hint
DEBUG=true                          # enable verbose logging & hot reload (dev only)
PUBLIC_URL=http://localhost:3000    # public facing API URL

# -----------------------------------------------------------------------------
# API / Server Settings
# -----------------------------------------------------------------------------
API_PORT=3000
API_HEALTH_PATH=/health
SESSION_SECRET=change-me-session
CSRF_COOKIE_SECRET=change-me-csrf
REQUEST_TIMEOUT_SECONDS=30
LOG_LEVEL=info
ENABLE_HTTP_LOGS=true
ENABLE_METRICS=false

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=comedyinsight
DATABASE_URL=postgres://postgres:postgres@postgres:5432/comedyinsight

# Testing database (used by TestingConfig)
POSTGRES_TEST_DB=comedyinsight_test

# -----------------------------------------------------------------------------
# Redis Cache / Queue
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS=false
REDIS_DB=0

# Full Redis URL (overrides individual settings when provided)
REDIS_URL=

# -----------------------------------------------------------------------------
# Object Storage (MinIO / S3 Compatible)
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET=comedyinsight-videos
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_USE_SSL=false

# Generic S3 envs used by the application SDKs
AWS_S3_ENDPOINT=http://minio:9000
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_S3_USE_PATH_STYLE=true

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
JWT_SECRET=change-me-access
JWT_REFRESH_SECRET=change-me-refresh
JWT_ACCESS_TOKEN_TTL=900               # seconds (15 minutes)
JWT_REFRESH_TOKEN_TTL=1209600          # seconds (14 days)
PASSWORD_RESET_TOKEN_TTL=3600         # seconds (1 hour)
RATE_LIMIT_WINDOW=60                   # seconds
RATE_LIMIT_MAX=100                     # requests per window
ALLOWED_IP_RANGES=
CORS_ALLOWED_ORIGINS=http://localhost:4173,http://localhost:3000

# -----------------------------------------------------------------------------
# Twilio OTP / SMS
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
TWILIO_VERIFY_SERVICE_SID=
SMS_OTP_EXPIRY_SECONDS=300

# -----------------------------------------------------------------------------
# Machine Learning Service
# -----------------------------------------------------------------------------
ML_SERVICE_URL=http://ml-service:8000
ML_MODEL_NAME=recommendation-v1
ML_MODEL_VERSION=latest
ML_REQUEST_TIMEOUT=5
ML_FALLBACK_STRATEGY=heuristic

# -----------------------------------------------------------------------------
# Frontend & Mobile Clients
# -----------------------------------------------------------------------------
DASHBOARD_URL=http://localhost:4173
VITE_API_BASE_URL=http://localhost:3000
EXPO_PUBLIC_API_BASE_URL=http://localhost:3000
MOBILE_API_BASE_URL=http://10.0.2.2:3000
ASSET_CDN_URL=

# -----------------------------------------------------------------------------
# Notifications / Push
# -----------------------------------------------------------------------------
FIREBASE_PROJECT_ID=
FIREBASE_CLIENT_EMAIL=
FIREBASE_PRIVATE_KEY=

# -----------------------------------------------------------------------------
# Observability / Error Tracking
SETTINGS_ENCRYPTION_KEY=change-me-32-byte-key
ADMIN_API_TOKEN=super-admin-token
SETTINGS_RATE_LIMIT_REQUESTS=20
SETTINGS_RATE_LIMIT_WINDOW=60
OTP_CODE_LENGTH=6
OTP_TTL_SECONDS=300
OTP_RESEND_INTERVAL_SECONDS=60
OTP_RATE_LIMIT_PER_HOUR=5
OTP_MAX_ATTEMPTS=5
OTP_DEFAULT_METHOD=sms

# -----------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=
OTEL_EXPORTER_OTLP_ENDPOINT=

# -----------------------------------------------------------------------------
# Optional Tooling
# -----------------------------------------------------------------------------
PGADMIN_EMAIL=admin@local.com
PGADMIN_PASSWORD=admin

